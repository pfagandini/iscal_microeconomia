---
title: "Microeconomia"
subtitle: "Aula 7: Taxa Marginal de Substitui√ß√£o e √ìtimo de Consumo"
author: "ISCAL - IPL"
date: ""
format: 
  revealjs:
    theme:
      - default
      - ../font_adjust.scss
      - ../iscal_theme.scss
    self-contained: false
    logo: ../images/iscal_logo.svg
    slide-number: true
    cross-ref: true
    keep-tex: false
    incremental: true
    math: 
      method: mathjax
    transition: slide
    footer: "Microeconomia (Plano de Transi√ß√£o)"
    from: markdown+emoji
    code-overflow: wrap
    code-block-font-size: 0.75em
    progress: true
  html:
    output-file: 03_FPP-document.html
    toc: true
    math: 
      method: mathjax
    keep-tex: false
    number-sections: true
    embed-resources: false
    echo: false
    code-tools: false
editor: source
execute:
  enabled: true
  engine: knitr
  echo: false
---


## Objetivos da Aula üéØ {.smaller}

Nesta aula iremos estudar:

::: {.incremental}
- **Taxa Marginal de Substitui√ß√£o** (TMS)
- TMS como **declive** da curva de indiferen√ßa
- Propriedades das curvas de indiferen√ßa **"bem comportadas"**
- **Axiomas de racionalidade**: completude e transitividade
- **Fun√ß√£o de utilidade** e sua interpreta√ß√£o
- **Escolha √≥tima** do consumidor
:::

---

## Taxa Marginal de Substitui√ß√£o (TMS) üîÑ

::: {.definition}
**Taxa Marginal de Substitui√ß√£o**  
√â a taxa √† qual o consumidor est√° disposto a **trocar** um bem pelo outro e **ficar indiferente**.
:::

::: {.fragment .incremental}
- Define-se como a quantidade do bem $Y$ de que est√° disposto a **prescindir**, para ter **mais uma unidade** do bem $X$ e ficar indiferente

- **Matematicamente:** $TMS_{X,Y} = -\frac{\Delta Y}{\Delta X}$ ao longo de uma curva de indiferen√ßa

- √â sempre um valor **negativo** (ou reportamos o valor absoluto)
:::

---

## TMS: C√°lculo Num√©rico üìä {.smaller}

```{r}
#| echo: false
#| fig-width: 9
#| fig-height: 5

library(ggplot2)

# Fun√ß√£o de utilidade: y = U^2/x, com U = 4.5
U <- 4.5
x_vals <- seq(1, 8, length.out = 100)
y_vals <- U^2 / x_vals

df <- data.frame(x = x_vals, y = y_vals)

# Pontos A, B, C
xa <- 1.5; ya <- U^2/xa
xb <- 2.0; yb <- U^2/xb
xc <- 3.0; yc <- U^2/xc

# Reta secante A-C
slope_ac <- (yc - ya)/(xc - xa)
x_sec <- seq(1, 4, length.out = 100)
y_sec <- ya + slope_ac*(x_sec - xa)

df_sec <- data.frame(x = x_sec, y = y_sec)

ggplot() +
  geom_line(data = df, aes(x = x, y = y),
           color = "#003D7A", size = 1.5) +
  geom_line(data = df_sec, aes(x = x, y = y),
           color = "#0066CC", size = 1.2, linetype = "solid") +
  geom_point(aes(x = xa, y = ya), color = "#FF0000", size = 4) +
  geom_point(aes(x = xb, y = yb), color = "#FF0000", size = 4) +
  geom_point(aes(x = xc, y = yc), color = "#FF0000", size = 4) +
  # Labels
  annotate("text", x = xa, y = ya, label = "A", 
          vjust = -1, hjust = 1.2, size = 5.5, fontface = "bold") +
  annotate("text", x = xb, y = yb, label = "B", 
          vjust = -1, hjust = 1.2, size = 5.5, fontface = "bold") +
  annotate("text", x = xc, y = yc, label = "C", 
          vjust = -1, hjust = 1.2, size = 5.5, fontface = "bold") +
  # Linhas tracejadas para coordenadas
  geom_segment(aes(x = 0, xend = xa, y = ya, yend = ya),
              linetype = "dotted", color = "gray40") +
  geom_segment(aes(x = xa, xend = xa, y = 0, yend = ya),
              linetype = "dotted", color = "gray40") +
  geom_segment(aes(x = 0, xend = xc, y = yc, yend = yc),
              linetype = "dotted", color = "gray40") +
  geom_segment(aes(x = xc, xend = xc, y = 0, yend = yc),
              linetype = "dotted", color = "gray40") +
  # Coordenadas
  annotate("text", x = 0, y = ya, label = "35", hjust = 1.3, size = 4) +
  annotate("text", x = 0, y = yb, label = "20", hjust = 1.3, size = 4) +
  annotate("text", x = 0, y = yc, label = "15", hjust = 1.3, size = 4) +
  annotate("text", x = xa, y = 0, label = "15", vjust = 1.5, size = 4) +
  annotate("text", x = xb, y = 0, label = "20", vjust = 1.5, size = 4) +
  annotate("text", x = xc, y = 0, label = "30", vjust = 1.5, size = 4) +
  # Anota√ß√µes dos c√°lculos
  annotate("text", x = 6, y = 18, 
          label = "De A a B: TMS = -3 = -15/5",
          size = 4.5, hjust = 0, color = "#FF6B35", fontface = "bold") +
  annotate("text", x = 6, y = 15.5, 
          label = "De B a C: TMS = -0,5 = -5/10",
          size = 4.5, hjust = 0, color = "#FF6B35", fontface = "bold") +
  annotate("text", x = 5.5, y = 22, 
          label = expression(paste(frac(Delta*Y, Delta*X))),
          size = 6, color = "#003D7A") +
  scale_x_continuous(limits = c(0, 9), name = "X", breaks = 0:8) +
  scale_y_continuous(limits = c(0, 25), name = "Y", breaks = seq(0, 25, 5)) +
  theme_minimal(base_size = 14) +
  theme(
    panel.grid.minor = element_blank(),
    axis.title = element_text(face = "bold")
  )
```

::: {.fragment}
**A TMS varia** ao longo da curva! √â **maior** (em valor absoluto) quando X √© escasso, e **menor** quando X √© abundante.
:::

---

## TMS como Derivada da Curva de Indiferen√ßa üìê {.smaller}

:::: {.columns}
::: {.column width="50%"}
```{r}
#| echo: false
#| fig-width: 5.5
#| fig-height: 5.5

library(ggplot2)

U <- 4.5
x_vals <- seq(1, 8, length.out = 100)
y_vals <- U^2 / x_vals

df <- data.frame(x = x_vals, y = y_vals)

xa <- 1.5; ya <- U^2/xa
xc <- 3.0; yc <- U^2/xc

# Reta secante
slope_sec <- (yc - ya)/(xc - xa)
x_sec <- seq(0.8, 4.5, length.out = 100)
y_sec <- ya + slope_sec*(x_sec - xa)

# Ponto m√©dio e tangente
xm <- 2.25
ym <- U^2/xm
# Derivada: dy/dx = -U^2/x^2
slope_tang <- -U^2/(xm^2)
x_tang <- seq(1, 4, length.out = 100)
y_tang <- ym + slope_tang*(x_tang - xm)

df_sec <- data.frame(x = x_sec, y = y_sec)
df_tang <- data.frame(x = x_tang, y = y_tang)

ggplot() +
  geom_line(data = df, aes(x = x, y = y),
           color = "#003D7A", size = 1.5) +
  geom_line(data = df_sec, aes(x = x, y = y),
           color = "#0066CC", size = 1.2) +
  geom_line(data = df_tang, aes(x = x, y = y),
           color = "#FF0000", size = 1.3, linetype = "dashed") +
  geom_point(aes(x = xa, y = ya), color = "#0066CC", size = 3.5) +
  geom_point(aes(x = xc, y = yc), color = "#0066CC", size = 3.5) +
  geom_point(aes(x = xm, y = ym), color = "#FF0000", size = 4.5) +
  # Setas para ŒîY e ŒîX
  geom_segment(aes(x = xa, xend = xa, y = ya, yend = yc),
              arrow = arrow(length = unit(0.2, "cm"), type = "closed"),
              color = "#0066CC", size = 1.1) +
  geom_segment(aes(x = xa, xend = xc, y = yc, yend = yc),
              arrow = arrow(length = unit(0.2, "cm"), type = "closed"),
              color = "#0066CC", size = 1.1) +
  annotate("text", x = xa - 0.3, y = (ya+yc)/2, label = "ŒîY", 
          size = 5, color = "#0066CC", fontface = "bold") +
  annotate("text", x = (xa+xc)/2, y = yc - 1.5, label = "ŒîX", 
          size = 5, color = "#0066CC", fontface = "bold") +
  # √Çngulo
  annotate("text", x = xc, y = yc + 0.8, label = "Œ±", 
          size = 6, color = "#FF0000", fontface = "bold") +
  # Labels
  annotate("text", x = xa, y = ya, label = "A", 
          vjust = -1, hjust = 1.5, size = 5) +
  annotate("text", x = xc, y = yc, label = "C", 
          vjust = -1, hjust = -0.3, size = 5) +
  annotate("text", x = xm, y = ym, label = "M", 
          vjust = -1.2, hjust = 0.5, size = 5, color = "#FF0000") +
  scale_x_continuous(limits = c(0, 5), name = "X") +
  scale_y_continuous(limits = c(0, 25), name = "Y") +
  theme_minimal(base_size = 13) +
  theme(panel.grid.minor = element_blank())
```
:::

::: {.column width="50%"}
::: {.incremental}
- $\frac{\Delta Y}{\Delta X}$ √© a taxa de varia√ß√£o **m√©dia** entre A e C

- $\left|\frac{\Delta Y}{\Delta X}\right|$ √© a TMS **m√©dia** entre A e C

- $\left|\frac{\Delta Y}{\Delta X}\right| = |\tan \alpha|$

- Quando $\Delta X \to 0$, obtemos a **derivada**: $\frac{dY}{dX}$

- **TMS √© o declive** da curva de indiferen√ßa num ponto!

$$TMS = -\frac{dY}{dX}\Big|_{U=\text{const}}$$
:::
:::
::::

---

## TMS Decrescente (em valor absoluto) üìâ

:::: {.columns}
::: {.column width="50%"}
Ao longo da curva de indiferen√ßa **convexa**, a TMS √© **decrescente** em valor absoluto:

::: {.incremental}
- O consumidor valoriza **mais** o bem de que disp√µe em **menor** quantidade

- Quanto **maior** a quantidade de um bem, **menor** o valor que atribui a uma unidade adicional

- Aproxima-se do ponto de **saciedade**, onde consumo adicional deixa de ser desej√°vel
:::
:::

::: {.column width="50%"}
```{r}
#| echo: false
#| fig-width: 5.5
#| fig-height: 5

library(ggplot2)

U <- 4.5
x_vals <- seq(0.8, 7, length.out = 100)
y_vals <- U^2 / x_vals

df <- data.frame(x = x_vals, y = y_vals)

# V√°rias tangentes
tangent_points <- c(1.2, 2, 3.5, 5.5)
colors_tang <- c("#FF0000", "#FF6B35", "#0066CC", "#003D7A")

p <- ggplot() +
  geom_line(data = df, aes(x = x, y = y),
           color = "#003D7A", size = 1.5)

for(i in 1:length(tangent_points)) {
  xi <- tangent_points[i]
  yi <- U^2/xi
  slope_i <- -U^2/(xi^2)
  
  x_tang <- seq(max(0.5, xi-1.5), min(7, xi+1.5), length.out = 50)
  y_tang <- yi + slope_i*(x_tang - xi)
  df_tang <- data.frame(x = x_tang, y = y_tang)
  
  p <- p + geom_line(data = df_tang, aes(x = x, y = y),
                    color = colors_tang[i], size = 0.9, 
                    linetype = "dashed", alpha = 0.7) +
          geom_point(aes(x = xi, y = yi), 
                    color = colors_tang[i], size = 3.5)
}

p <- p +
  annotate("text", x = 1.2, y = 3, 
          label = "TMS alta\n(muito Y por X)",
          size = 3.5, color = "#FF0000", fontface = "italic") +
  annotate("text", x = 5.5, y = 8, 
          label = "TMS baixa\n(pouco Y por X)",
          size = 3.5, color = "#003D7A", fontface = "italic") +
  scale_x_continuous(limits = c(0, 7.5), name = "X") +
  scale_y_continuous(limits = c(0, 28), name = "Y") +
  theme_minimal(base_size = 13) +
  theme(panel.grid.minor = element_blank())

p
```
:::
::::

---

## Axiom√°tica de Prefer√™ncias (resumo) üìã

::: {.incremental}
1. **Desejabilidade** ‚Üí as curvas de indiferen√ßa t√™m inclina√ß√£o negativa

2. **Completude**: dados dois cabazes quaisquer, o consumidor **sabe sempre** dizer qual a rela√ß√£o de prefer√™ncias entre eles
   - Todos os cabazes pertencem a uma curva de indiferen√ßa
   - Quanto **mais alta** a curva, **maior** a satisfa√ß√£o (desejabilidade)

3. **Transitividade**: se A √© preferido a B, e B √© preferido a C, ent√£o A √© preferido a C
:::

---

## Mapa de Curvas de Indiferen√ßa üó∫Ô∏è

```{r}
#| echo: false
#| fig-width: 9
#| fig-height: 5.5

library(ggplot2)

# V√°rias curvas de indiferen√ßa
U_levels <- c(0.6, 1, 2, 3)
colors <- c("#FF0000", "#003D7A", "#0066CC", "#0066CC")

x_vals <- seq(0.9, 5, length.out = 100)

df_all <- data.frame()
for(i in 1:length(U_levels)) {
  U <- sqrt(U_levels[i])
  y_vals <- U^2 / x_vals^0.5
  df_temp <- data.frame(x = x_vals, y = y_vals, U = as.factor(i))
  df_all <- rbind(df_all, df_temp)
}

# Pontos espec√≠ficos
points_df <- data.frame(
  x = c(2, 1.1, 2.2, 3, 2.6, 3.2, 1.2),
  y = c(1^2/2^0.5, 1^2/1.1^0.5, 2^2/2.2^0.5, 2^2/3^0.5, 
       sqrt(3)^2/2.6^0.5, sqrt(3)^2/3.2^0.5, 0.6^2/1.2^0.5),
  label = c("A", "B", "C", "D", "E", "F", "G"),
  color = c("U1", "U1", "U2", "U2", "U3", "U3", "U0")
)

ggplot() +
  geom_line(data = df_all, aes(x = x, y = y, group = U, color = U),
           size = 1.3) +
  geom_point(data = points_df, aes(x = x, y = y),
            color = "#FF0000", size = 4) +
  geom_text(data = points_df, aes(x = x, y = y, label = label),
           vjust = -1, hjust = 1.2, size = 5.5, fontface = "bold") +
  # Seta de aumento de satisfa√ß√£o
  annotate("segment", x = 1.5, xend = 4, y = 2, yend = 5,
          arrow = arrow(length = unit(0.3, "cm"), type = "closed"),
          color = "#00AA00", size = 1.5) +
  annotate("text", x = 4.2, y = 5.5, 
          label = "Sentido de aumento\nda satisfa√ß√£o",
          color = "#00AA00", size = 4.5, fontface = "bold", hjust = 0) +
  # Rela√ß√µes de prefer√™ncia
  annotate("text", x = 0.5, y = 22, 
          label = "~ significa 'indiferente a'\n‚âª significa 'preferido a'",
          size = 3.8, hjust = 0, color = "#4A4A4A") +
  annotate("text", x = 0.5, y = 18.5, 
          label = "E ~ F ‚âª C ~ D ‚âª B ~ A ‚âª G",
          size = 4.2, hjust = 0, color = "#003D7A", fontface = "bold") +
  scale_color_manual(values = c("#FF0000", "#FF6B35", 
                                "#0066CC", "#003D7A")) +
  scale_x_continuous(limits = c(0, 5.5), name = "X") +
  scale_y_continuous(limits = c(0, 25), name = "Y") +
  theme_minimal(base_size = 14) +
  theme(
    panel.grid.minor = element_blank(),
    legend.position = "none"
  )
```

---

## Transitividade das Prefer√™ncias üîÑ

Se as prefer√™ncias s√£o **transitivas**:

::: {.incremental}
- Se **A √© preferido a B**
- E **B √© preferido a C**
- Ent√£o **A √© preferido a C**!
:::

::: {.fragment}
**Consequ√™ncia importante:**  
As curvas de indiferen√ßa **n√£o se podem cruzar**! ‚ùå
:::

---

## Por que as Curvas N√£o se Podem Cruzar? üö´ {.smaller}

:::: {.columns}
::: {.column width="50%"}
```{r}
#| echo: false
#| fig-width: 5.5
#| fig-height: 5

library(ggplot2)

# Duas curvas que se cruzam (exemplo hipot√©tico - N√ÉO PODE!)
U1 <- 1
U2 <- 1.3

x_vals1 <- seq(0.9, 5, length.out = 100)
y_vals1 <- U1^2 / x_vals1^0.5

x_vals2 <- seq(0.5, 4.5, length.out = 100)
y_vals2 <- (U2^2 / (x_vals2+0.5)^0.5) + 1

df1 <- data.frame(x = x_vals1, y = y_vals1)
df2 <- data.frame(x = x_vals2, y = y_vals2)

# Pontos
xa <- 2; ya <- U1^2/xa^0.5
xb <- 1.1; yb <- U1^2/xb^0.5
xc <- 1.365; yc <- U1^2/xc^0.5
xd <- 2.2; yd <- (U2^2/(xd+0.5)^0.5) + 1

ggplot() +
  geom_line(data = df1, aes(x = x, y = y),
           color = "#003D7A", size = 1.3) +
  geom_line(data = df2, aes(x = x, y = y),
           color = "#FF0000", size = 1.3) +
  geom_point(aes(x = xa, y = ya), color = "#003D7A", size = 4) +
  geom_point(aes(x = xb, y = yb), color = "#003D7A", size = 4) +
  geom_point(aes(x = xc, y = yc), color = "#FF6B35", size = 4) +
  geom_point(aes(x = xd, y = yd), color = "#FF0000", size = 4) +
  annotate("text", x = xa, y = ya, label = "A", 
          vjust = -1, hjust = 1.2, size = 5.5, fontface = "bold") +
  annotate("text", x = xb, y = yb, label = "B", 
          vjust = -1, hjust = 1.2, size = 5.5, fontface = "bold") +
  annotate("text", x = xc, y = yc, label = "C", 
          vjust = -1, hjust = 1.2, size = 5.5, 
          fontface = "bold", color = "#FF6B35") +
  annotate("text", x = xd, y = yd, label = "D", 
          vjust = -1, hjust = -0.2, size = 5.5, fontface = "bold") +
  scale_x_continuous(limits = c(0, 5.5), name = "X") +
  scale_y_continuous(limits = c(0, 15), name = "Y") +
  theme_minimal(base_size = 13) +
  theme(panel.grid.minor = element_blank())
```
:::

::: {.column width="50%"}
**Se as curvas se cruzassem:**

::: {.incremental}
- $D \succ A$ (D tem mais de ambos os bens)

- Mas $D \sim C$ (na mesma curva vermelha)

- E $C \sim A$ (na mesma curva azul)

- Logo $D \sim A$ ??? üòµ

- **Contradi√ß√£o!** Viola a transitividade
:::

::: {.fragment}
::: {.alert}
Curvas de indiferen√ßa que se cruzam **n√£o refletem prefer√™ncias transitivas** (racionais)!
:::
:::
:::
::::

---

## Racionalidade do Consumidor üß†

::: {.definition}
**Prefer√™ncias Racionais**  
Em contexto de **desejabilidade** (n√£o saciedade), as prefer√™ncias dizem-se **racionais** se forem:
- **Completas** (consegue comparar todos os cabazes)
- **Transitivas** (se A‚âªB e B‚âªC, ent√£o A‚âªC)
:::

::: {.fragment}
**Outras hip√≥teses necess√°rias:**

::: {.incremental}
- **Informa√ß√£o completa** sobre bens e pre√ßos
- **Continuidade** do espa√ßo or√ßamental
- **Independ√™ncia** das escolhas entre consumidores
:::
:::

---

## Fun√ß√£o de Utilidade üìä

::: {.definition}
**Fun√ß√£o de Utilidade**  
√â uma representa√ß√£o **num√©rica** da rela√ß√£o de prefer√™ncia, que transforma cabazes de consumo num valor (utilidade) tal que:

$$\begin{aligned}
U(A) &> U(B) \quad \Leftrightarrow \quad \text{A √© preferido a B}\\
U(A) &= U(B) \quad \Leftrightarrow \quad \text{A √© indiferente a B}
\end{aligned}$$
:::

---

## Interpreta√ß√£o da Fun√ß√£o de Utilidade ‚ö†Ô∏è {.smaller}

::: {.alert}
**IMPORTANTE:**  
A fun√ß√£o de utilidade √© apenas uma **rela√ß√£o ordinal**, resultando numa **ordena√ß√£o** de cabazes.

**O valor num√©rico, por si s√≥, N√ÉO tem significado cardinal!**
:::

::: {.fragment}
**Consequ√™ncia:** H√° **muitas** fun√ß√µes utilidade que expressam as mesmas prefer√™ncias, desde que preservem a ordena√ß√£o dos cabazes.
:::

::: {.fragment}
**Exemplo:** $A(20,20)$ √© preferido a $B(10,10)$

Esta rela√ß√£o pode ser descrita por **qualquer uma** das seguintes fun√ß√µes:

$$\begin{aligned}
U(x,y) &= x^{0{,}5}y^{0{,}5}\\
U(x,y) &= 10x^{0{,}5}y^{0{,}5}\\
U(x,y) &= 0{,}5(\ln x + \ln y)\\
U(x,y) &= 223{,}2(\ln x + \ln y)
\end{aligned}$$
:::

---

## Curvas de Indiferen√ßa e Fun√ß√£o de Utilidade üìà

Se uma fun√ß√£o utilidade $U(x,y)$ representar uma ordem de prefer√™ncias, qualquer curva de indiferen√ßa √© constitu√≠da por todos os cabazes associados √† **mesma utilidade**:

$$\forall(x,y): U(x,y) = \overline{U}$$

::: {.fragment}
Ou equivalentemente:

$$\forall(x,y): \Delta U = 0$$

ao longo de uma curva de indiferen√ßa.
:::

---

## Escolha √ìtima do Consumidor üéØ

::: {.definition}
**Escolha √ìtima**  
√â o ponto de escolha tal que o consumidor atinge o **m√°ximo de utilidade poss√≠vel** (localiza-se na curva de indiferen√ßa o mais alta poss√≠vel), dado que **n√£o pode ultrapassar** o or√ßamento dispon√≠vel para consumo.
:::

::: {.fragment}
**Problema de otimiza√ß√£o:**

$$\max_{x,y} U(x,y) \quad \text{sujeito a} \quad Xp_x + Yp_y = W$$
:::

---

## Escolha √ìtima: Representa√ß√£o Gr√°fica üìä

```{r}
#| echo: false
#| fig-width: 9
#| fig-height: 5.5

library(ggplot2)

# Par√¢metros
W <- 10
px <- 3
py <- 3.5
U_opt <- 1.55

x_vals <- seq(0, W/px, length.out = 100)
y_bc <- (W/py) - (px/py)*x_vals

x_ic_low <- seq(0.3, 5, length.out = 100)
y_ic_low <- ((U_opt - 0.5)^2 / x_ic_low^0.5)

x_ic_high <- seq(1, 5, length.out = 100)
y_ic_high <- ((U_opt + 0.5)^2 / x_ic_high^0.5)

x_ic_opt <- seq(0.6, 5, length.out = 100)
y_ic_opt <- (U_opt^2 / x_ic_opt^0.5)

# Ponto √≥timo (tang√™ncia)
x_star <- 1.65
y_star <- U_opt^2 / x_star^0.5

df_bc <- data.frame(x = x_vals, y = y_bc)
df_ic_low <- data.frame(x = x_ic_low, y = y_ic_low)
df_ic_high <- data.frame(x = x_ic_high, y = y_ic_high)
df_ic_opt <- data.frame(x = x_ic_opt, y = y_ic_opt)

ggplot() +
  # Restri√ß√£o or√ßamental (azul)
  geom_line(data = df_bc, aes(x = x, y = y),
           color = "#0066CC", size = 1.5) +
  # Curva muito alta (inalcan√ß√°vel)
  geom_line(data = df_ic_high, aes(x = x, y = y),
           color = "#FF0000", size = 1.2, linetype = "dashed", alpha = 0.5) +
  # Curva muito baixa (alcan√ß√°vel mas sub√≥tima)
  geom_line(data = df_ic_low, aes(x = x, y = y),
           color = "#FF0000", size = 1.2, linetype = "dashed", alpha = 0.5) +
  # Curva √≥tima (tangente)
  geom_line(data = df_ic_opt, aes(x = x, y = y),
           color = "#FF0000", size = 1.5) +
  # Ponto √≥timo
  geom_point(aes(x = x_star, y = y_star), 
            color = "#FF0000", size = 5) +
  # Linhas tracejadas
  geom_segment(aes(x = x_star, xend = x_star, y = 0, yend = y_star),
              linetype = "dashed", color = "gray40") +
  geom_segment(aes(x = 0, xend = x_star, y = y_star, yend = y_star),
              linetype = "dashed", color = "gray40") +
  # Labels
  annotate("text", x = x_star, y = 0, label = "x*", 
          vjust = 1.5, size = 5.5, fontface = "bold") +
  annotate("text", x = 0, y = y_star, label = "y*", 
          hjust = 1.5, size = 5.5, fontface = "bold") +
  annotate("text", x = 4.5, y = 4.5, 
          label = expression(paste(A^"*", "(P,W): Max"[x*","*y], 
                                  " U(x,y) ‚àß Xp"[x], "+Yp"[y], "=W")),
          size = 4, color = "#003D7A") +
  scale_x_continuous(limits = c(0, 5.5), name = "X") +
  scale_y_continuous(limits = c(0, 5.5), name = "Y") +
  theme_minimal(base_size = 14) +
  theme(
    panel.grid.minor = element_blank(),
    axis.title = element_text(face = "bold")
  )
```

::: {.fragment}
**No √≥timo:** a curva de indiferen√ßa √© **tangente** √† restri√ß√£o or√ßamental!  
$TMS = \frac{p_x}{p_y}$
:::

---

## Exerc√≠cios de Aplica√ß√£o üìù {.smaller}

### Exerc√≠cio 1 (Escolha M√∫ltipla)

Se um consumidor tem curvas de indiferen√ßa convexas e se move ao longo de uma curva da esquerda para a direita, a Taxa Marginal de Substitui√ß√£o (em valor absoluto):

a) Aumenta
b) Diminui ‚úì
c) Permanece constante
d) Primeiro aumenta, depois diminui

::: {.fragment}
**Solu√ß√£o:** Com curvas convexas, √† medida que X aumenta (movendo para a direita), o consumidor tem mais X e menos Y. Logo, valoriza mais Y e est√° disposto a abdicar de menos Y por cada unidade adicional de X. A TMS diminui em valor absoluto.
:::

---

## Exerc√≠cios de Aplica√ß√£o üìù {.smaller}

### Exerc√≠cio 2 (Escolha M√∫ltipla)

Duas curvas de indiferen√ßa que se cruzam violam qual axioma das prefer√™ncias racionais?

a) Desejabilidade
b) Completude
c) Transitividade ‚úì
d) Continuidade

::: {.fragment}
**Solu√ß√£o:** Se as curvas se cruzam, o ponto de interse√ß√£o estaria em ambas as curvas, implicando que o consumidor √© indiferente entre esse ponto e pontos em ambas as curvas. Mas isso criaria uma contradi√ß√£o com a transitividade se um ponto de uma curva for preferido a um ponto da outra curva.
:::

---

## Exerc√≠cios de Aplica√ß√£o üìù {.smaller}

### Exerc√≠cio 3 (Desenvolvimento)

Pedro tem prefer√™ncias sobre caf√© (C) e bolos (B) representadas pela fun√ß√£o de utilidade $U(C,B) = C \times B$.

a) Calcule a TMS quando Pedro consome 4 caf√©s e 6 bolos.

b) Se o pre√ßo do caf√© √© ‚Ç¨2 e o pre√ßo dos bolos √© ‚Ç¨3, e Pedro tem ‚Ç¨24 para gastar, qual √© a sua escolha √≥tima? (Dica: no √≥timo, $TMS = p_C/p_B$)

c) Qual √© o n√≠vel de utilidade no ponto √≥timo?

::: {.fragment}
**Solu√ß√µes:**  
a) $TMS = -\frac{\partial U/\partial C}{\partial U/\partial B} = -\frac{B}{C} = -\frac{6}{4} = -1{,}5$ (em valor absoluto: 1,5)

b) $TMS = p_C/p_B \Rightarrow B/C = 2/3 \Rightarrow B = \frac{2C}{3}$  
Restri√ß√£o: $2C + 3B = 24 \Rightarrow 2C + 3(\frac{2C}{3}) = 24 \Rightarrow 4C = 24 \Rightarrow C^* = 6, B^* = 4$

c) $U(6,4) = 6 \times 4 = 24$
:::

---

## Resumo da Aula üìö {.smaller}

::: {.incremental}
1. **TMS** (Taxa Marginal de Substitui√ß√£o) mede a disposi√ß√£o a trocar bens mantendo a utilidade constante

2. A TMS √© o **declive** (em valor absoluto) da curva de indiferen√ßa: $TMS = -\frac{dY}{dX}$

3. Com curvas **convexas**, a TMS √© **decrescente** ‚Äî lei da utilidade marginal decrescente

4. **Axiomas de racionalidade**: completude e transitividade (al√©m da desejabilidade)

5. Curvas de indiferen√ßa **n√£o se podem cruzar** (violaria a transitividade)

6. A **fun√ß√£o de utilidade** √© uma representa√ß√£o **ordinal** (n√£o cardinal) das prefer√™ncias

7. **Escolha √≥tima**: maximiza utilidade sujeito √† restri√ß√£o or√ßamental ‚Äî ocorre na **tang√™ncia** entre a curva de indiferen√ßa e a restri√ß√£o or√ßamental
:::

::: {.fragment}
**Pr√≥xima aula:** Fun√ß√£o de utilidade espec√≠ficas, deriva√ß√£o da procura, 2¬™ Lei de Gossen! üéØ
:::
